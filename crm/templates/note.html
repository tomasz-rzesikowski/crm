{% extends "_base.html" %}
{% block content %}
    <section class="page-header page-header-classic page-header-sm" style="margin-top: -10px; position: relative">
        <div class="container">
            <div class="row">
                <div class="col-md-8 order-2 order-md-1 align-self-center p-static">
                    <h1>NOTATKI</h1>
                </div>
                <div class="col-md-4 order-1 order-md-2 align-self-center">
                    <ul class="breadcrumb d-block text-md-right">
                        <li class="active">NOTATKI</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <table class="table table-striped table-bordered">
        <thead>
        <tr>
            <th>Tytuł</th>
            <th>Treść</th>
            <th>Twórca</th>
            <th>Opcje</th>
        </tr>
        </thead>
        <tbody>


        <tr>
            <td>{{ note.title }}</td>
            <td>{{ note.description }}</td>
            <td>{{ note.initials }}</td>
            <td>
                <form action="{{ url_for('notes.delete', idx=note.id, delete_img=form.delete_images.data ) }}" novalidate rel="nofollow">
                    {{ form.hidden_tag() }}
                    <table>
                        <tr class="form-check form-switch">
                            <div class="form-check form-switch">
                                {{ form.delete_images(class="form-check-input") }}
                                {{ form.delete_images.label(class="form-check-label") }}
                            </div>
                        </tr>
                        <tr>{{ form.submit }}</tr>
                    </table>

                    {% if form.delete_images.errors %}
                        <ul class="errors">
                            {% for error in form.delete_images.errors %}
                                <li>{{ error }}</li>
                            {% endfor %}
                        </ul>
                    {% endif %}

                </form>
        </tr>


        </tbody>
    </table>

    {% if image_list %}
        <div id="noteCarousel" class="carousel slide" data-bs-ride="carousel">

            <div class="carousel-inner">

                {% for image in image_list %}

                    {% if loop.index0 == 0 %}

                        <div class="carousel-item active">
                            <img src="{{ url_for('notes.uploads', filename=image) }}" class="d-block w-100 h-100" alt="...">
                            <div class="carousel-caption d-none d-md-block">
                                <p>{{ image }}</p>
                            </div>
                        </div>

                    {% else %}

                        <div class="carousel-item">
                            <img src="{{ url_for('notes.uploads', filename=image) }}" class="d-block w-100 h-100" alt="...">
                            <div class="carousel-caption d-none d-md-block">
                                <p>{{ image }}</p>
                            </div>
                        </div>

                    {% endif %}

                {% endfor %}

            </div>
            <a class="carousel-control-prev" href="#" role="button" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Poprzednie</span>
            </a>
            <a class="carousel-control-next" href="#" role="button" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Następne</span>
            </a>

        </div>

    {% endif %}

{% endblock %}